!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?exports.OptimalSelect=t():e.OptimalSelect=t()}(this,function(){return function(e){function t(n){if(r[n])return r[n].exports;var o=r[n]={i:n,l:!1,exports:{}};return e[n].call(o.exports,o,o.exports,t),o.l=!0,o.exports}var r={};return t.m=e,t.c=r,t.i=function(e){return e},t.d=function(e,r,n){t.o(e,r)||Object.defineProperty(e,r,{configurable:!1,enumerable:!0,get:n})},t.n=function(e){var r=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(r,"a",r),r},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="",t(t.s=6)}([function(e,t,r){"use strict";function n(e){for(var t=e.length,r=new Array(t),n=0;n<t;n++)r[n]=e[n];return r}function o(e){return e&&u(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.convertNodeList=n,t.escapeValue=o;var u=r(5)},function(e,t,r){"use strict";function n(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=t.root,n=void 0===r?document:r,o=[];e.forEach(function(e,t){for(var r=[];e!==n;)e=e.parentNode,r.unshift(e);o[t]=r}),o.sort(function(e,t){return e.length-t.length});for(var u=o.shift(),i=null,a=0,l=u.length;a<l;a++){if("break"===function(){var e=u[a];if(o.some(function(t){return!t.some(function(t){return t===e})}))return"break";i=e}())break}return i}function o(e){var t={classes:[],attributes:{},tag:null};return e.forEach(function(e){var r=t.classes,n=t.attributes,o=t.tag;if(void 0!==r){var u=e.getAttribute("class");u?(u=u.trim().split(" "),r.length?(r=r.filter(function(e){return u.some(function(t){return t===e})}),r.length?t.classes=r:delete t.classes):t.classes=u):delete t.classes}if(void 0!==n){var i=e.attributes,a=Object.keys(i).reduce(function(e,t){var r=i[t],n=r.name;return r&&"class"!==n&&(e[n]=r.value),e},{}),l=Object.keys(a),c=Object.keys(n);l.length?c.length?(n=c.reduce(function(e,t){var r=n[t];return r===a[t]&&(e[t]=r),e},{}),Object.keys(n).length?t.attributes=n:delete t.attributes):t.attributes=a:delete t.attributes}if(void 0!==o){var f=e.tagName.toLowerCase();o?f!==o&&delete t.tag:t.tag=f}}),t}Object.defineProperty(t,"__esModule",{value:!0}),t.getCommonAncestor=n,t.getCommonProperties=o},function(e,t,r){"use strict";function n(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(Array.isArray(t)||(t=t.length?(0,l.convertNodeList)(t):[t]),!t.length||t.some(function(e){return 1!==e.nodeType}))throw new Error('Invalid input - to compare HTMLElements its necessary to provide a reference of the selected node(s)! (missing "elements")');var n=((0,a.default)(t[0],r),e.replace(/> /g,">").split(/\s+(?=(?:(?:[^"]*"){2})*[^"]*$)/));if(n.length<2)return o("",e,"",t);for(var u=[n.pop()];n.length>1;){var i=n.pop(),c=n.join(" "),f=u.join(" "),s=c+" "+f,d=[];try{d=document.querySelectorAll(s)}catch(e){}d.length!==t.length&&u.unshift(o(c,i,f,t))}return u.unshift(n[0]),n=u,n[0]=o("",n[0],n.slice(1).join(" "),t),n[n.length-1]=o(n.slice(0,-1).join(" "),n[n.length-1],"",t),n.join(" ").replace(/>/g,"> ").trim()}function o(e,t,r,n){if(e.length&&(e+=" "),r.length&&(r=" "+r),/\[*\]/.test(t)){var o=t.replace(/=.*$/,"]"),i=""+e+o+r,a=[];try{a=document.querySelectorAll(i)}catch(e){}if(u(a,n))t=o;else{var l=[];try{l=document.querySelectorAll(""+e+o)}catch(e){}for(var c=0,f=l.length;c<f;c++){var i;if("break"===function(){var o=l[c];if(n.some(function(e){return o.contains(e)})){var a=o.tagName.toLowerCase();i=""+e+a+r;var f=[];try{f=document.querySelectorAll(i)}catch(e){}return u(f,n)&&(t=a),"break"}}())break}}}if(/>/.test(t)){var s=t.replace(/>/,""),i=""+e+s+r,d=[];try{d=document.querySelectorAll(i)}catch(e){}u(d,n)&&(t=s)}if(/:nth-child/.test(t)){var v=t.replace(/nth-child/g,"nth-of-type"),i=""+e+v+r,p=[];try{p=document.querySelectorAll(i)}catch(e){}u(p,n)&&(t=v)}if(/\.\S+\.\S+/.test(t)){for(var h=t.trim().split(".").slice(1).map(function(e){return"."+e}).sort(function(e,t){return e.length-t.length});h.length;){var g=t.replace(h.shift(),"").trim();if(">"===g.charAt(0)||">"===g.charAt(g.length-1))break;var i=(""+e+g+r).trim();if(!i.length||">"===i.charAt(0)||">"===i.charAt(i.length-1))break;var y=[];try{y=document.querySelectorAll(i)}catch(e){}u(y,n)&&(t=g)}if((h=t&&t.match(/\./g))&&h.length>2){var m=[];try{m=document.querySelectorAll(""+e+t)}catch(e){}for(var c=0,f=m.length;c<f;c++){var i;if("break"===function(){var o=m[c];if(n.some(function(e){return o.contains(e)})){var a=o.tagName.toLowerCase();i=""+e+a+r;var l=[];try{l=document.querySelectorAll(i)}catch(e){}return u(l,n)&&(t=a),"break"}}())break}}}return t}function u(e,t){var r=e.length;return r===t.length&&t.every(function(t){for(var n=0;n<r;n++)if(e[n]===t)return!0;return!1})}Object.defineProperty(t,"__esModule",{value:!0}),t.default=n;var i=r(3),a=function(e){return e&&e.__esModule?e:{default:e}}(i),l=r(0);e.exports=t.default},function(e,t,r){"use strict";function n(e,t){return!1}Object.defineProperty(t,"__esModule",{value:!0});!function(){function e(e,t){var r=[],n=!0,o=!1,u=void 0;try{for(var i,a=e[Symbol.iterator]();!(n=(i=a.next()).done)&&(r.push(i.value),!t||r.length!==t);n=!0);}catch(e){o=!0,u=e}finally{try{!n&&a.return&&a.return()}finally{if(o)throw u}}return r}}();t.default=n,e.exports=t.default},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function o(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(3===e.nodeType&&(e=e.parentNode),1!==e.nodeType)throw new Error('Invalid input - only HTMLElements or representations of them are supported! (not "'+(void 0===e?"undefined":l(e))+'")');var r=((0,f.default)(e,t),(0,d.default)(e,t));return(0,p.default)(r,e,t)}function u(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(Array.isArray(e)||(e=(0,h.convertNodeList)(e)),e.some(function(e){return 1!==e.nodeType}))throw new Error("Invalid input - only an Array of HTMLElements or representations of them is supported!");var r=((0,f.default)(e[0],t),(0,g.getCommonAncestor)(e,t)),n=o(r,t),u=i(e),a=u[0],l=(0,p.default)(n+" "+a,e,t),c=(0,h.convertNodeList)(document.querySelectorAll(l));return e.every(function(e){return c.some(function(t){return t===e})})?l:console.warn("\n      The selected elements can't be efficiently mapped.\n      Its probably best to use multiple single selectors instead!\n    ",e)}function i(e){var t=(0,g.getCommonProperties)(e),r=t.classes,n=t.attributes,o=t.tag,u=[];if(o&&u.push(o),r){var i=r.map(function(e){return"."+e}).join("");u.push(i)}if(n){var a=Object.keys(n).reduce(function(e,t){return e.push("["+t+'="'+n[t]+'"]'),e},[]).join("");u.push(a)}return u.length,[u.join("")]}function a(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return e.length&&!e.name?u(e,t):o(e,t)}Object.defineProperty(t,"__esModule",{value:!0});var l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};t.getSingleSelector=o,t.getMultiSelector=u,t.default=a;var c=r(3),f=n(c),s=r(7),d=n(s),v=r(2),p=n(v),h=r(0),g=r(1)},function(e,t,r){"use strict";var n={},o=n.hasOwnProperty,u=function(e,t){if(!e)return t;var r={};for(var n in t)r[n]=o.call(e,n)?e[n]:t[n];return r},i=/[ -,\.\/:-@\[-\^`\{-~]/,a=/[ -,\.\/:-@\[\]\^`\{-~]/,l=/(^|\\+)?(\\[A-F0-9]{1,6})\x20(?![a-fA-F0-9\x20])/g,c=function e(t,r){r=u(r,e.options),"single"!=r.quotes&&"double"!=r.quotes&&(r.quotes="single");for(var n="double"==r.quotes?'"':"'",o=r.isIdentifier,c=t.charAt(0),f="",s=0,d=t.length;s<d;){var v=t.charAt(s++),p=v.charCodeAt(),h=void 0;if(p<32||p>126){if(p>=55296&&p<=56319&&s<d){var g=t.charCodeAt(s++);56320==(64512&g)?p=((1023&p)<<10)+(1023&g)+65536:s--}h="\\"+p.toString(16).toUpperCase()+" "}else h=r.escapeEverything?i.test(v)?"\\"+v:"\\"+p.toString(16).toUpperCase()+" ":/[\t\n\f\r\x0B]/.test(v)?"\\"+p.toString(16).toUpperCase()+" ":"\\"==v||!o&&('"'==v&&n==v||"'"==v&&n==v)||o&&a.test(v)?"\\"+v:v;f+=h}return o&&(/^-[-\d]/.test(f)?f="\\-"+f.slice(1):/\d/.test(c)&&(f="\\3"+c+" "+f.slice(1))),f=f.replace(l,function(e,t,r){return t&&t.length%2?e:(t||"")+r}),!o&&r.wrap?n+f+n:f};c.options={escapeEverything:!1,isIdentifier:!1,quotes:"single",wrap:!1},c.version="3.0.0",e.exports=c},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.common=t.optimize=t.getMultiSelector=t.getSingleSelector=t.select=void 0;var o=r(4);Object.defineProperty(t,"getSingleSelector",{enumerable:!0,get:function(){return o.getSingleSelector}}),Object.defineProperty(t,"getMultiSelector",{enumerable:!0,get:function(){return o.getMultiSelector}});var u=n(o),i=r(2),a=n(i),l=r(1),c=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}(l);t.select=u.default,t.optimize=a.default,t.common=c,t.default=u.default},function(e,t,r){"use strict";function n(e,t){var r=t.root,n=void 0===r?document:r,u=t.skip,a=void 0===u?null:u,f=t.priority,d=void 0===f?["id","class","href","src"]:f,v=t.ignore,p=void 0===v?{}:v,h=[],g=e,y=h.length,m=!1,b=a&&(Array.isArray(a)?a:[a]).map(function(e){return"function"!=typeof e?function(t){return t===e}:e});if(Object.keys(p).forEach(function(e){"class"===e&&(m=!0);var t=p[e];"function"!=typeof t&&("number"==typeof t&&(t=t.toString()),"string"==typeof t&&(t=new RegExp((0,s.escapeValue)(t).replace(/\\/g,"\\\\"))),"boolean"==typeof t&&(t=t?/(?:)/:/.^/),p[e]=function(e,r){return t.test(r)})}),m){var S=p.attribute;p.attribute=function(e,t,r){return p.class(t)||S&&S(e,t,r)}}for(;g!==n;){if(!0!==function(e){return a&&b.some(function(t){return t(e)})}(g)){if(o(d,g,p,h,n))break;if(i(g,p,h,n))break;o(d,g,p,h),h.length===y&&i(g,p,h),h.length===y&&l(d,g,p,h)}g=g.parentNode,y=h.length}if(g===n){var A=c(d,g,p);h.unshift(A)}return h.join(" ")}function o(e,t,r,n){var o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:t.parentNode,i=u(e,t,r);if(i){if(1===o.querySelectorAll(i).length)return n.unshift(i),!0}return!1}function u(e,t,r){for(var n=t.attributes,o=Object.keys(n).sort(function(t,r){var o=e.indexOf(n[t].name),u=e.indexOf(n[r].name);return-1===u?-1===o?0:-1:-1===o?1:o-u}),u=0,i=o.length;u<i;u++){var a=o[u],l=n[a],c=l.name,v=(0,s.escapeValue)(l.value);if(!f(r[c]||r.attribute,c,v,d[c]||d.attribute)){var p="["+c+'="'+v+'"]';if("id"===c&&/^[A-Za-z][-\d\w:,.]*$/.test(v)&&(p="#"+v),"class"===c&&/^[A-Za-z][-\d\w]*$/.test(v)){p="."+v.trim().replace(/\s+/g,".")}return p}}return null}function i(e,t,r){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:e.parentNode,o=a(e,t);if(o){if(1===n.getElementsByTagName(o).length)return r.unshift(o),!0}return!1}function a(e,t){var r=e.tagName.toLowerCase();return f(t.tag,null,r)?null:r}function l(e,t,r,n){for(var o=t.parentNode,u=o.childTags||o.children,i=0,a=u.length;i<a;i++){var l=u[i];if(l===t){var f=c(e,l,r);if(!f)return console.warn("\n          Element couldn't be matched through strict ignore pattern!\n        ",l,r,f);var s="> "+f+":nth-child("+(i+1)+")";return n.unshift(s),!0}}return!1}function c(e,t,r){var n=u(e,t,r);return n||(n=a(t,r)),n}function f(e,t,r,n){if(!r)return!0;var o=e||n;return!!o&&o(t,r,n)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=n;var s=r(0),d={attribute:function(e){return["style","data-reactid","data-react-checksum"].indexOf(e)>-1}};e.exports=t.default}])});
//# sourceMappingURL=optimal-select.min.js.map